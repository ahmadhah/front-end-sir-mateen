{"ast":null,"code":"var _jsxFileName = \"/Users/ahmadhannan/Downloads/fgfgfg/src/app/pages/roles/Roles.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport SingleRole from './SingleRole';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEV_URI = process.env.REACT_APP_DEV_API_URL;\nconst Roles = () => {\n  _s();\n  // state for keeping all the roles that are in our DB\n  const [rolesList, setRolesList] = useState([]);\n  // state for keeping all the roles properties\n  const [rolesProperties, setRoleProperties] = useState([]);\n  // state for monitoring submittion of role name\n  const [roleNameBool, setRoleNameBool] = useState(true);\n  //state used for creation of new role\n  const [userRoles, setUserRoles] = useState([]);\n  const [newRole, setNewRole] = useState({\n    roleName: \"\",\n    userManagement: {\n      read: false,\n      write: false,\n      create: false\n    },\n    disputesManagement: {\n      read: false,\n      write: false,\n      create: false\n    },\n    apiControls: {\n      read: false,\n      write: false,\n      create: false\n    },\n    contentManagement: {\n      read: false,\n      write: false,\n      create: false\n    },\n    financialManagement: {\n      read: false,\n      write: false,\n      create: false\n    },\n    payroll: {\n      read: false,\n      write: false,\n      create: false\n    },\n    reporting: {\n      read: false,\n      write: false,\n      create: false\n    },\n    databaseManagement: {\n      read: false,\n      write: false,\n      create: false\n    },\n    repositoryManagement: {\n      read: false,\n      write: false,\n      create: false\n    }\n  });\n  /**\r\n    * @type {ref}\r\n    * references used for doing DOM manipulation\r\n  */\n  const chkbxRef = useRef(null);\n  const roleRef = useRef(null);\n  /**\r\n    * boolean for checkbox switch\r\n  */\n  let chkBox = true;\n  useEffect(() => {\n    const token = localStorage.getItem(\"authToken\");\n    axios.get('/role/getRoles', {\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      let temparr = [];\n      temparr = Object.keys(res.data[0]);\n      temparr = temparr.filter(item => item !== \"_id\" && item !== \"register_date\" && item !== \"roleName\" && item !== \"__v\");\n      setRoleProperties(temparr);\n      setRolesList(res.data);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get('user/users').then(res => {\n      let tempResData = res.data;\n      let tempObj = {};\n      for (let i = 0; i < tempResData.length; i++) {\n        if (!tempObj[tempResData[i][\"role\"]]) {\n          tempObj[tempResData[i][\"role\"]] = 1;\n        } else {\n          tempObj[tempResData[i][\"role\"]]++;\n        }\n      }\n      console.log(tempObj);\n      setUserRoles(tempObj);\n    });\n  }, []);\n\n  /** \r\n    * function that handles permissions that are granted to new roles \r\n    * updates states with latest changes\r\n  */\n  const changePermission = e => {\n    let property = e.target.getAttribute(\"property\");\n    let name = e.target.getAttribute(\"name\");\n    let tempval = newRole;\n    if (tempval[name][property] === true) {\n      tempval[name][property] = false;\n    } else {\n      tempval[name][property] = true;\n    }\n    setNewRole(tempval);\n  };\n\n  /**\r\n   * function that is used to select or deselect all the checkboxes in new role modal\r\n   */\n  const selectAllChk = e => {\n    let tempvar = newRole;\n    let roleProps = Object.keys(tempvar);\n    if (chkBox === true) {\n      for (let i = 1; i < roleProps.length; i++) {\n        tempvar[roleProps[i]].read = true;\n        tempvar[roleProps[i]].write = true;\n        tempvar[roleProps[i]].create = true;\n      }\n      let inputChk = chkbxRef.current.querySelectorAll('input[type=\"checkbox\"]');\n      for (let i = 0; i < inputChk.length; i++) {\n        inputChk[i].checked = true;\n      }\n      chkBox = false;\n      setNewRole(tempvar);\n    } else if (chkBox === false) {\n      for (let i = 1; i < roleProps.length; i++) {\n        tempvar[roleProps[i]].read = false;\n        tempvar[roleProps[i]].write = false;\n        tempvar[roleProps[i]].create = false;\n      }\n      let inputChk = chkbxRef.current.querySelectorAll('input[type=\"checkbox\"]');\n      for (let i = 0; i < inputChk.length; i++) {\n        inputChk[i].checked = false;\n      }\n      chkBox = true;\n      setNewRole(tempvar);\n    }\n  };\n\n  /**\r\n   * Handles what happens to data once the Modal has been closed\r\n   */\n  const closeModal = () => {\n    chkBox = false;\n    let tempvar = newRole;\n    tempvar.roleName = \"\";\n    roleRef.current.value = \"\";\n    setNewRole(tempvar);\n    selectAllChk();\n  };\n\n  /**\r\n   * function for saving new role into DB\r\n   * shows the latest role in list as well\r\n   */\n  const AddNewRole = e => {\n    e.preventDefault();\n    if (newRole.roleName !== \"\") {\n      axios.post(`${DEV_URI}/role/addRole`, newRole).then(() => {\n        let tempRole = JSON.stringify(newRole);\n        tempRole = JSON.parse(tempRole);\n        chkBox = false;\n        setRolesList([...rolesList, tempRole]);\n      }).then(() => {\n        let tempvar = newRole;\n        tempvar.roleName = \"\";\n        roleRef.current.value = \"\";\n        setNewRole(tempvar);\n        selectAllChk();\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"outer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post d-flex flex-column-fluid\",\n      id: \"kt_post\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"kt_content_container\",\n        className: \"container-xxl\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-5 g-xl-9\",\n          children: [rolesList.map((role, index) => /*#__PURE__*/_jsxDEV(SingleRole, {\n            roleName: role.roleName,\n            financialManagement: role.financialManagement,\n            payouts: role.payroll,\n            reports: role.reporting,\n            disputes: role.disputesManagement,\n            userRoles: userRoles,\n            userControl: role.userManagement,\n            rolesProperties: rolesProperties,\n            role: role\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card h-md-100\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body d-flex flex-center\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-clear d-flex flex-column flex-center\",\n                  \"data-bs-toggle\": \"modal\",\n                  \"data-bs-target\": \"#kt_modal_add_role\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"fw-bolder fs-3 text-gray-600 text-hover-primary\",\n                    children: \"Add New Role\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal fade\",\n        id: \"kt_modal_add_role\",\n        tabIndex: -1,\n        \"aria-hidden\": \"true\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-dialog modal-dialog-centered mw-750px\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"fw-bolder\",\n                children: \"Add a Role\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"btn btn-icon btn-sm btn-active-icon-primary\",\n                \"data-kt-roles-modal-action\": \"close\",\n                \"data-bs-dismiss\": \"modal\",\n                \"aria-label\": \"Close\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"svg-icon svg-icon-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    width: 24,\n                    height: 24,\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                      opacity: \"0.5\",\n                      x: 6,\n                      y: \"17.3137\",\n                      width: 16,\n                      height: 2,\n                      rx: 1,\n                      transform: \"rotate(-45 6 17.3137)\",\n                      fill: \"black\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n                      x: \"7.41422\",\n                      y: 6,\n                      width: 16,\n                      height: 2,\n                      rx: 1,\n                      transform: \"rotate(45 7.41422 6)\",\n                      fill: \"black\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body scroll-y mx-lg-5 my-7\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex flex-column scroll-y me-n7 pe-7\",\n                id: \"kt_modal_add_role_scroll\",\n                \"data-kt-scroll\": \"true\",\n                \"data-kt-scroll-activate\": \"{default: false, lg: true}\",\n                \"data-kt-scroll-max-height\": \"auto\",\n                \"data-kt-scroll-dependencies\": \"#kt_modal_add_role_header\",\n                \"data-kt-scroll-wrappers\": \"#kt_modal_add_role_scroll\",\n                \"data-kt-scroll-offset\": \"300px\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"fv-row mb-10\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"fs-5 fw-bolder form-label mb-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"required\",\n                      children: \"Role name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control form-control-solid\",\n                    placeholder: \"Enter a role name\",\n                    name: \"role_name\",\n                    ref: roleRef,\n                    onChange: e => {\n                      let tempvar = newRole;\n                      tempvar.roleName = e.target.value;\n                      if (e.target.value !== \"\") {\n                        setRoleNameBool(false);\n                      } else {\n                        setRoleNameBool(true);\n                      }\n                      setNewRole(tempvar);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"fv-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"fs-5 fw-bolder form-label mb-2\",\n                    children: \"Role Permissions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"table-responsive\",\n                    children: /*#__PURE__*/_jsxDEV(\"table\", {\n                      className: \"table align-middle table-row-dashed fs-6 gy-5\",\n                      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                        className: \"text-gray-600 fw-bold\",\n                        ref: chkbxRef,\n                        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"text-gray-800\",\n                            children: [\"Administrator Access\", /*#__PURE__*/_jsxDEV(\"i\", {\n                              className: \"fas fa-exclamation-circle ms-1 fs-7\",\n                              \"data-bs-toggle\": \"tooltip\",\n                              title: \"Allows a full access to the system\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 296,\n                              columnNumber: 31\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 295,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: /*#__PURE__*/_jsxDEV(\"label\", {\n                              className: \"form-check form-check-custom form-check-solid me-9\",\n                              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                                className: \"form-check-input\",\n                                type: \"checkbox\",\n                                id: \"kt_roles_select_all\",\n                                onChange: selectAllChk\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 300,\n                                columnNumber: 33\n                              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"form-check-label\",\n                                htmlFor: \"kt_roles_select_all\",\n                                children: \"Select all\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 301,\n                                columnNumber: 33\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 299,\n                              columnNumber: 31\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 297,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 294,\n                          columnNumber: 27\n                        }, this), rolesProperties.map((prop, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"text-gray-800\",\n                            children: prop\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 309,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"d-flex\",\n                              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                                className: \"form-check form-check-sm form-check-custom form-check-solid me-5 me-lg-20\",\n                                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                                  className: \"form-check-input\",\n                                  type: \"checkbox\",\n                                  property: \"read\",\n                                  name: prop,\n                                  onChange: changePermission\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 314,\n                                  columnNumber: 37\n                                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"form-check-label\",\n                                  children: \"Read\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 315,\n                                  columnNumber: 37\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 313,\n                                columnNumber: 35\n                              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                                className: \"form-check form-check-sm form-check-custom form-check-solid me-5 me-lg-20\",\n                                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                                  className: \"form-check-input\",\n                                  type: \"checkbox\",\n                                  property: \"write\",\n                                  name: prop,\n                                  onChange: changePermission\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 320,\n                                  columnNumber: 37\n                                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"form-check-label\",\n                                  children: \"Write\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 321,\n                                  columnNumber: 37\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 319,\n                                columnNumber: 35\n                              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                                className: \"form-check form-check-sm form-check-custom form-check-solid\",\n                                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                                  className: \"form-check-input\",\n                                  type: \"checkbox\",\n                                  property: \"create\",\n                                  name: prop,\n                                  onChange: changePermission\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 326,\n                                  columnNumber: 37\n                                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"form-check-label\",\n                                  children: \"Create\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 327,\n                                  columnNumber: 37\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 325,\n                                columnNumber: 35\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 312,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 310,\n                            columnNumber: 31\n                          }, this)]\n                        }, index, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 308,\n                          columnNumber: 29\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 292,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center pt-15\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-light me-3\",\n                    \"data-kt-roles-modal-action\": \"cancel\",\n                    \"data-bs-dismiss\": \"modal\",\n                    \"aria-label\": \"Close\",\n                    onClick: closeModal,\n                    children: \"Discard\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary\",\n                    \"data-bs-dismiss\": \"modal\",\n                    onClick: AddNewRole,\n                    disabled: roleNameBool ? true : false,\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"indicator-label\",\n                      children: \"Submit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 346,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"indicator-progress\",\n                      children: [\"Please wait...\", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"spinner-border spinner-border-sm align-middle ms-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 348,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 347,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n};\n_s(Roles, \"9bwkEMP0trSZL4EiQps8aV+RcZc=\");\n_c = Roles;\nexport default Roles;\nvar _c;\n$RefreshReg$(_c, \"Roles\");","map":{"version":3,"names":["useEffect","useState","useRef","axios","SingleRole","DEV_URI","process","env","REACT_APP_DEV_API_URL","Roles","rolesList","setRolesList","rolesProperties","setRoleProperties","roleNameBool","setRoleNameBool","userRoles","setUserRoles","newRole","setNewRole","roleName","userManagement","read","write","create","disputesManagement","apiControls","contentManagement","financialManagement","payroll","reporting","databaseManagement","repositoryManagement","chkbxRef","roleRef","chkBox","token","localStorage","getItem","get","headers","Accept","Authorization","then","res","temparr","Object","keys","data","filter","item","tempResData","tempObj","i","length","console","log","changePermission","e","property","target","getAttribute","name","tempval","selectAllChk","tempvar","roleProps","inputChk","current","querySelectorAll","checked","closeModal","value","AddNewRole","preventDefault","post","tempRole","JSON","stringify","parse","map","role","index","prop"],"sources":["/Users/ahmadhannan/Downloads/fgfgfg/src/app/pages/roles/Roles.js"],"sourcesContent":["import { useEffect, useState, useRef } from 'react'\r\nimport axios from 'axios'\r\nimport SingleRole from './SingleRole'\r\n\r\nconst DEV_URI = process.env.REACT_APP_DEV_API_URL\r\nconst Roles = () => {\r\n  // state for keeping all the roles that are in our DB\r\n  const [rolesList, setRolesList] = useState([])\r\n  // state for keeping all the roles properties\r\n  const [rolesProperties, setRoleProperties] = useState([])\r\n  // state for monitoring submittion of role name\r\n  const [roleNameBool, setRoleNameBool] = useState(true)\r\n  //state used for creation of new role\r\n  const [userRoles, setUserRoles] = useState([])\r\n  const [newRole, setNewRole] = useState({\r\n    roleName: \"\",\r\n    userManagement: {\r\n      read: false,\r\n      write: false,\r\n      create: false\r\n    },\r\n    disputesManagement: {\r\n      read: false,\r\n      write: false,\r\n      create: false\r\n    },\r\n    apiControls: {\r\n      read: false,\r\n      write: false,\r\n      create: false\r\n    },\r\n    contentManagement: {\r\n      read: false,\r\n      write: false,\r\n      create: false\r\n    },\r\n    financialManagement: {\r\n      read: false,\r\n      write: false,\r\n      create: false\r\n    },\r\n    payroll: {\r\n      read: false,\r\n      write: false,\r\n      create: false\r\n    },\r\n    reporting: {\r\n      read: false,\r\n      write: false,\r\n      create: false\r\n    },\r\n    databaseManagement: {\r\n      read: false,\r\n      write: false,\r\n      create: false\r\n    },\r\n    repositoryManagement: {\r\n      read: false,\r\n      write: false,\r\n      create: false\r\n    },\r\n  })\r\n  /**\r\n    * @type {ref}\r\n    * references used for doing DOM manipulation\r\n  */\r\n  const chkbxRef = useRef(null);\r\n  const roleRef = useRef(null);\r\n  /**\r\n    * boolean for checkbox switch\r\n  */\r\n  let chkBox = true\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"authToken\")\r\n    axios.get('/role/getRoles', {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Accept: 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      }\r\n    }\r\n    ).then((res) => {\r\n      let temparr = []\r\n      temparr = Object.keys(res.data[0])\r\n      temparr = temparr.filter((item) => item !== \"_id\" && item !== \"register_date\" && item !== \"roleName\" && item !== \"__v\")\r\n      setRoleProperties(temparr)\r\n      setRolesList(res.data)\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    axios.get('user/users')\r\n      .then((res) => {\r\n        let tempResData = res.data\r\n        let tempObj = {}\r\n        for (let i = 0; i < tempResData.length; i++) {\r\n          if (!tempObj[tempResData[i][\"role\"]]) {\r\n            tempObj[tempResData[i][\"role\"]] = 1\r\n          } else {\r\n            tempObj[tempResData[i][\"role\"]]++\r\n          }\r\n        }\r\n        console.log(tempObj)\r\n        setUserRoles(tempObj)\r\n      })\r\n  }, [])\r\n\r\n  /** \r\n    * function that handles permissions that are granted to new roles \r\n    * updates states with latest changes\r\n  */\r\n  const changePermission = (e) => {\r\n    let property = e.target.getAttribute(\"property\");\r\n    let name = e.target.getAttribute(\"name\")\r\n    let tempval = newRole\r\n    if (tempval[name][property] === true) {\r\n      tempval[name][property] = false\r\n    } else {\r\n      tempval[name][property] = true\r\n    }\r\n    setNewRole(tempval)\r\n  }\r\n\r\n  /**\r\n   * function that is used to select or deselect all the checkboxes in new role modal\r\n   */\r\n  const selectAllChk = (e) => {\r\n    let tempvar = newRole\r\n    let roleProps = Object.keys(tempvar)\r\n    if (chkBox === true) {\r\n      for (let i = 1; i < roleProps.length; i++) {\r\n        tempvar[roleProps[i]].read = true\r\n        tempvar[roleProps[i]].write = true\r\n        tempvar[roleProps[i]].create = true\r\n      }\r\n      let inputChk = chkbxRef.current.querySelectorAll('input[type=\"checkbox\"]')\r\n      for (let i = 0; i < inputChk.length; i++) {\r\n        inputChk[i].checked = true\r\n      }\r\n      chkBox = false\r\n      setNewRole(tempvar)\r\n    } else if (chkBox === false) {\r\n      for (let i = 1; i < roleProps.length; i++) {\r\n        tempvar[roleProps[i]].read = false\r\n        tempvar[roleProps[i]].write = false\r\n        tempvar[roleProps[i]].create = false\r\n      }\r\n      let inputChk = chkbxRef.current.querySelectorAll('input[type=\"checkbox\"]')\r\n      for (let i = 0; i < inputChk.length; i++) {\r\n        inputChk[i].checked = false\r\n      }\r\n      chkBox = true\r\n      setNewRole(tempvar)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handles what happens to data once the Modal has been closed\r\n   */\r\n  const closeModal = () => {\r\n    chkBox = false\r\n    let tempvar = newRole\r\n    tempvar.roleName = \"\"\r\n    roleRef.current.value = \"\"\r\n    setNewRole(tempvar)\r\n    selectAllChk()\r\n  }\r\n\r\n  /**\r\n   * function for saving new role into DB\r\n   * shows the latest role in list as well\r\n   */\r\n  const AddNewRole = (e) => {\r\n    e.preventDefault()\r\n    if (newRole.roleName !== \"\") {\r\n      axios.post(`${DEV_URI}/role/addRole`, newRole)\r\n        .then(() => {\r\n          let tempRole = JSON.stringify(newRole)\r\n          tempRole = JSON.parse(tempRole)\r\n          chkBox = false\r\n          setRolesList([...rolesList, tempRole])\r\n        })\r\n        .then(() => {\r\n          let tempvar = newRole\r\n          tempvar.roleName = \"\"\r\n          roleRef.current.value = \"\"\r\n          setNewRole(tempvar)\r\n          selectAllChk()\r\n        })\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <div className='outer'>\r\n      {/*begin::Post*/}\r\n      <div className=\"post d-flex flex-column-fluid\" id=\"kt_post\">\r\n        {/*begin::Container*/}\r\n        <div id=\"kt_content_container\" className=\"container-xxl\">\r\n          <div className=\"row row-cols-1 row-cols-md-2 row-cols-xl-3 g-5 g-xl-9\">\r\n            {/*begin::Row*/}\r\n            {rolesList.map((role, index) => (\r\n              <SingleRole key={index} roleName={role.roleName} financialManagement={role.financialManagement}\r\n                payouts={role.payroll} reports={role.reporting} disputes={role.disputesManagement} userRoles={userRoles}\r\n                userControl={role.userManagement} rolesProperties={rolesProperties} role={role} />\r\n            ))}\r\n            {/*begin::Add new card*/}\r\n            <div className=\"col-md-4\">\r\n              {/*begin::Card*/}\r\n              <div className=\"card h-md-100\">\r\n                {/*begin::Card body*/}\r\n                <div className=\"card-body d-flex flex-center\">\r\n                  {/*begin::Button*/}\r\n                  <button type=\"button\" className=\"btn btn-clear d-flex flex-column flex-center\" data-bs-toggle=\"modal\" data-bs-target=\"#kt_modal_add_role\">\r\n                    {/*begin::Label*/}\r\n                    <div className=\"fw-bolder fs-3 text-gray-600 text-hover-primary\">Add New Role</div>\r\n                    {/*end::Label*/}\r\n                  </button>\r\n                  {/*begin::Button*/}\r\n                </div>\r\n                {/*begin::Card body*/}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/*MODAL FOR ADDING NEW ROLE*/}\r\n        <div className=\"modal fade\" id=\"kt_modal_add_role\" tabIndex={-1} aria-hidden=\"true\">\r\n          {/*begin::Modal dialog*/}\r\n          <div className=\"modal-dialog modal-dialog-centered mw-750px\">\r\n            {/*begin::Modal content*/}\r\n            <div className=\"modal-content\">\r\n              {/*begin::Modal header*/}\r\n              <div className=\"modal-header\">\r\n                {/*begin::Modal title*/}\r\n                <h2 className=\"fw-bolder\">Add a Role</h2>\r\n                {/*end::Modal title*/}\r\n                {/*begin::Close*/}\r\n                <div className=\"btn btn-icon btn-sm btn-active-icon-primary\" data-kt-roles-modal-action=\"close\"\r\n                  data-bs-dismiss=\"modal\"\r\n                  aria-label=\"Close\">\r\n                  {/*begin::Svg Icon | path: icons/duotune/arrows/arr061.svg*/}\r\n                  <span className=\"svg-icon svg-icon-1\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width={24} height={24} viewBox=\"0 0 24 24\" fill=\"none\">\r\n                      <rect opacity=\"0.5\" x={6} y=\"17.3137\" width={16} height={2} rx={1} transform=\"rotate(-45 6 17.3137)\" fill=\"black\" />\r\n                      <rect x=\"7.41422\" y={6} width={16} height={2} rx={1} transform=\"rotate(45 7.41422 6)\" fill=\"black\" />\r\n                    </svg>\r\n                  </span>\r\n                  {/*end::Svg Icon*/}\r\n                </div>\r\n                {/*end::Close*/}\r\n              </div>\r\n              {/*end::Modal header*/}\r\n              {/*begin::Modal body*/}\r\n              <div className=\"modal-body scroll-y mx-lg-5 my-7\">\r\n                {/*begin::Form*/}\r\n                {/* <form id=\"kt_modal_add_role_form\" className=\"form\"> */}\r\n                {/*begin::Scroll*/}\r\n                <div className=\"d-flex flex-column scroll-y me-n7 pe-7\" id=\"kt_modal_add_role_scroll\" data-kt-scroll=\"true\" data-kt-scroll-activate=\"{default: false, lg: true}\" data-kt-scroll-max-height=\"auto\" data-kt-scroll-dependencies=\"#kt_modal_add_role_header\" data-kt-scroll-wrappers=\"#kt_modal_add_role_scroll\" data-kt-scroll-offset=\"300px\">\r\n                  {/*begin::Input group*/}\r\n                  <div className=\"fv-row mb-10\">\r\n                    {/*begin::Label*/}\r\n                    <label className=\"fs-5 fw-bolder form-label mb-2\">\r\n                      <span className=\"required\">Role name</span>\r\n                    </label>\r\n                    {/*end::Label*/}\r\n                    {/*begin::Input*/}\r\n                    <input className=\"form-control form-control-solid\" placeholder=\"Enter a role name\" name=\"role_name\" ref={roleRef} onChange={(e) => {\r\n                      let tempvar = newRole\r\n                      tempvar.roleName = e.target.value\r\n                      if (e.target.value !== \"\") {\r\n                        setRoleNameBool(false)\r\n                      } else {\r\n                        setRoleNameBool(true)\r\n                      }\r\n                      setNewRole(tempvar)\r\n                    }} />\r\n                    {/*end::Input*/}\r\n                  </div>\r\n                  {/*end::Input group*/}\r\n                  {/*begin::Permissions*/}\r\n                  <div className=\"fv-row\">\r\n                    {/*begin::Label*/}\r\n                    <label className=\"fs-5 fw-bolder form-label mb-2\">Role Permissions</label>\r\n                    {/*end::Label*/}\r\n                    {/*begin::Table wrapper*/}\r\n                    <div className=\"table-responsive\">\r\n                      {/*begin::Table*/}\r\n                      <table className=\"table align-middle table-row-dashed fs-6 gy-5\">\r\n                        {/*begin::Table body*/}\r\n                        <tbody className=\"text-gray-600 fw-bold\" ref={chkbxRef}>\r\n                          {/*begin::Table row*/}\r\n                          <tr>\r\n                            <td className=\"text-gray-800\">Administrator Access\r\n                              <i className=\"fas fa-exclamation-circle ms-1 fs-7\" data-bs-toggle=\"tooltip\" title=\"Allows a full access to the system\" /></td>\r\n                            <td>\r\n                              {/*begin::Checkbox*/}\r\n                              <label className=\"form-check form-check-custom form-check-solid me-9\">\r\n                                <input className=\"form-check-input\" type=\"checkbox\" id=\"kt_roles_select_all\" onChange={selectAllChk} />\r\n                                <span className=\"form-check-label\" htmlFor=\"kt_roles_select_all\" >Select all</span>\r\n                              </label>\r\n                              {/*end::Checkbox*/}\r\n                            </td>\r\n                          </tr>\r\n                          {/*end::Table row*/}\r\n                          {rolesProperties.map((prop, index) => (\r\n                            <tr key={index}>\r\n                              <td className=\"text-gray-800\">{prop}</td>\r\n                              <td>\r\n                                {/*begin::Wrapper*/}\r\n                                <div className=\"d-flex\">\r\n                                  <label className=\"form-check form-check-sm form-check-custom form-check-solid me-5 me-lg-20\">\r\n                                    <input className=\"form-check-input\" type=\"checkbox\" property='read' name={prop} onChange={changePermission} />\r\n                                    <span className=\"form-check-label\">Read</span>\r\n                                  </label>\r\n                                  {/*end::Checkbox*/}\r\n                                  {/*begin::Checkbox*/}\r\n                                  <label className=\"form-check form-check-sm form-check-custom form-check-solid me-5 me-lg-20\">\r\n                                    <input className=\"form-check-input\" type=\"checkbox\" property='write' name={prop} onChange={changePermission} />\r\n                                    <span className=\"form-check-label\">Write</span>\r\n                                  </label>\r\n                                  {/*end::Checkbox*/}\r\n                                  {/*begin::Checkbox*/}\r\n                                  <label className=\"form-check form-check-sm form-check-custom form-check-solid\">\r\n                                    <input className=\"form-check-input\" type=\"checkbox\" property='create' name={prop} onChange={changePermission} />\r\n                                    <span className=\"form-check-label\">Create</span>\r\n                                  </label>\r\n                                  {/*end::Checkbox*/}\r\n                                </div>\r\n                                {/*end::Wrapper*/}\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                  {/*begin::Actions*/}\r\n                  <div className=\"text-center pt-15\">\r\n                    <button className=\"btn btn-light me-3\" data-kt-roles-modal-action=\"cancel\" data-bs-dismiss=\"modal\"\r\n                      aria-label=\"Close\" onClick={closeModal}>Discard</button>\r\n                    <button className=\"btn btn-primary\" data-bs-dismiss=\"modal\" onClick={AddNewRole}\r\n                      disabled={roleNameBool ? true : false}\r\n                    >\r\n                      <span className=\"indicator-label\">Submit</span>\r\n                      <span className=\"indicator-progress\">Please wait...\r\n                        <span className=\"spinner-border spinner-border-sm align-middle ms-2\" /></span>\r\n                    </button>\r\n                  </div>\r\n                  {/*end::Actions*/}\r\n                </div>\r\n                {/* </form> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Roles\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}